<!DOCTYPE html>
<html lang="ur">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Randomized SIM/CNIC Lookup</title>
  <style>
    body{margin:0;padding:0;background:#000;color:#fff;font-family:Arial, sans-serif;display:flex;align-items:center;justify-content:center;height:100vh}
    .box{background:#111;border:2px solid #c00;padding:24px;border-radius:10px;width:100%;max-width:520px;text-align:center}
    input{width:100%;padding:12px;border-radius:8px;border:none;margin-bottom:10px;background:#222;color:#fff}
    button{width:100%;padding:12px;border-radius:8px;border:none;background:linear-gradient(90deg,#c00000,#ff0000);color:#fff;font-weight:700;cursor:pointer}
    #response{display:none;text-align:left;background:#181818;padding:12px;border-radius:8px;margin-top:12px;white-space:pre-wrap}
    .small{font-size:13px;color:#bbb;margin-top:8px}
  </style>
</head>
<body>
  <div class="box">
    <h2>ğŸ” Lookup by Phone or CNIC</h2>
    <input id="q" placeholder="Phone or CNIC â€” ya dono (comma se): eg. 03064457887,3540275672161" />
    <button onclick="doLookup()">ğŸ” Search</button>

    <div id="response"></div>
    <button id="share" style="display:none;margin-top:10px" onclick="shareWA()">ğŸ“² Share on WhatsApp</button>
    <p class="small">Ù†ÙˆÙ¹: ÛŒÛ ØµØ±Ù Ù¹ÛŒØ³Ù¹/ÚˆÙ…ÛŒ Ø±ÛŒÚ©Ø§Ø±ÚˆØ² ÛÛŒÚº â€” Ø­Ù‚ÛŒÙ‚ÛŒ Ù„ÙˆÚ¯ÙˆÚº Ú©Ø§ ÚˆÛŒÙ¹Ø§ Ù†Û ÚˆØ§Ù„ÛŒÚºÛ”</p>
  </div>

  <script>
    // --- Helpers ---
    function onlyDigits(s){ return (s||"").replace(/\D/g,""); }

    function isLikelyCNIC(s){
      const d = onlyDigits(s);
      return d.length === 13; // treat 13 digits as CNIC
    }

    function isLikelyPhone(s){
      const d = onlyDigits(s);
      // accept local (11 digits starting 0) or international 12-13 (+92...) or short 9-10
      return (d.length >= 9 && d.length <= 13);
    }

    function normalizePhone(s){
      if (!s) return "";
      let d = onlyDigits(s);
      if (d.length === 11 && d.startsWith("0")) return "0" + d.slice(1); // keep 11-digit with leading 0
      if (d.length === 12 && d.startsWith("92")) return "+92" + d.slice(2);
      if (d.length === 13 && d.startsWith("092")) return "+92" + d.slice(3);
      if (d.length === 10) return "0" + d; // maybe missing leading zero
      if (d.length === 9) return "0" + d; 
      if (d.length === 13 && d.startsWith("923")) return "+" + d.slice(0,3) + d.slice(3); // safeguard
      return d;
    }

    function normalizeCNIC(s){
      const d = onlyDigits(s);
      if (d.length === 13) return d;
      // if user provided with hyphens like 35202-1234567-1
      if (d.length > 13) return d.slice(-13);
      // pad randomly (only for fake generation) - but prefer empty if invalid
      return d.padStart(13, "0").slice(0,13);
    }

    // Random generators (fake)
    function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
    function randInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
    const first = ["Ali","Ahmed","Hassan","Zain","Owais","Muhammad","Sana","Sara","Ayesha","Fatima","Bilal","Usman","Latif","Khalid","Imran"];
    const last = ["Khan","Malik","Raza","Ali","Butt","Hussain","Sheikh","Qureshi","Nawaz","Bashir","Latif","Farooq"];
    const areas = ["Model Town","Clifton","DHA","Cantt","Mandi Faizabad","Gulberg","Saddar","Nazimabad","Johar Town","Shadman","Garden"];
    const streets = ["Block A","Sector 7","Street 5","Near Masjid","Opp Market","Main Bazar","Gal Po","New Town","Phase 2"];
    const ops = ["Jazz","Telenor","Zong","Ufone","Warid","SCO"];

    function randomCNIC(){
      const prefixes = ["352","354","374","611","421","422","371"];
      const p = rand(prefixes);
      let rem = "";
      for (let i=0;i<10;i++) rem += Math.floor(Math.random()*10);
      return String(p) + rem.slice(0,10);
    }

    function randomPhoneLike(){
      // return local 11-digit with 0
      return "0" + String(randInt(300000000,999999999)).padStart(9,"0");
    }

    function generateProfile({givenPhone, givenCNIC}){
      const name = rand(first) + " " + rand(last);
      const mobile = givenPhone ? ( (givenPhone.startsWith("+92")||givenPhone.startsWith("0")) ? (givenPhone.startsWith("+92")? givenPhone : "+"+ "92"+ givenPhone.slice(1)) : ("+92" + givenPhone.replace(/^0/,"")) ) : ("+92" + randomPhoneLike().slice(1));
      const cnic = givenCNIC ? givenCNIC : randomCNIC();
      const address = rand(areas) + ", " + rand(streets) + " (Near " + rand(["Market","School","Masjid","Park"]) + ")";
      const operator = rand(ops);
      return { Mobile: mobile, Name: name, Country: "Pakistan", CNIC: cnic, Address: address, Operator: operator };
    }

    // Main
    function doLookup(){
      const q = document.getElementById("q").value.trim();
      if (!q){ alert("Ø¨Ø±Ø§ÛÙ Ù…ÛØ±Ø¨Ø§Ù†ÛŒ ÙÙˆÙ† ÛŒØ§ CNIC Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚºÛ”"); return; }

      // allow comma or space separated both entries
      const parts = q.split(/[,\/\s]+/).filter(Boolean);
      let phoneInput = "";
      let cnicInput = "";

      // try to detect from parts
      for (const p of parts){
        if (!phoneInput && isLikelyPhone(p)) phoneInput = normalizePhone(p);
        else if (!cnicInput && isLikelyCNIC(p)) cnicInput = normalizeCNIC(p);
        else {
          // second attempt: if part contains 13 digits anywhere -> cnic
          const digits = onlyDigits(p);
          if (!cnicInput && digits.length===13) cnicInput = digits;
          else if (!phoneInput && (digits.length>=9 && digits.length<=13)) phoneInput = normalizePhone(p);
        }
      }

      // If user typed a single token, decide whether it's CNIC or phone
      if (!phoneInput && !cnicInput){
        const single = parts[0];
        if (isLikelyCNIC(single)) cnicInput = normalizeCNIC(single);
        else if (isLikelyPhone(single)) phoneInput = normalizePhone(single);
      }

      // generate profile, prefer given values
      const profile = generateProfile({givenPhone: phoneInput, givenCNIC: cnicInput});

      const out = `ğŸ“ Mobile: ${profile.Mobile}
ğŸ‘¤ Name: ${profile.Name}
ğŸŒ Country: ${profile.Country}
ğŸ†” CNIC: ${profile.CNIC}
ğŸ“ Address: ${profile.Address}
ğŸ“¶ Operator: ${profile.Operator}`;

      const resp = document.getElementById("response");
      resp.innerText = out;
      resp.style.display = "block";
      document.getElementById("share").style.display = "inline-block";

      console.log("[Lookup]", {input:q, parsed:{phone:phoneInput,cnic:cnicInput}, profile});
    }

    function shareWA(){
      const text = encodeURIComponent(document.getElementById("response").innerText);
      window.open("https://wa.me/?text=" + text, "_blank");
    }
  </script>
</body>
</html>


    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="box">
    <h2>ğŸ” AzharBaba DB</h2>
    <input type="text" id="number" placeholder="Enter phone number"03064457887 required />
    <button onclick="fetchData()">ğŸ” Get Details</button>

    <div id="responseBox"></div>

    <button id="shareButton" class="whatsapp-btn" onclick="shareWhatsApp()" style="display: none;">ğŸ“² Share on WhatsApp</button>
    <a class="whatsapp-btn" id="azharbaba" target="_blank">ğŸ“¢ Join WhatsApp Channel</a>
    <button class="telegram-btn" onclick="window.open(https://api.whatsapp.com/send/?phone=923064457887&text&type=phone_number&app_absent=0', '_blank')">âœˆï¸ Join Telegram Channel</button>
  </div>

  <script>
  let notFoundCount = 0; 

  // === Manual Data (local database) ===
  const localDB = {
    "3064457887": {
      Mobile: "+923064457887",
      Name: "M LATIF",
      Country: "Pakistan",
      CNIC: "3540275672161",
      Address: "CHACHKAY GAL PO MANDI FAIZ ABAD"
    },
    "03064457887": {
      Mobile: "+923064457887",
      Name: "M LATIF",
      Country: "Pakistan",
      CNIC: "3540275672161",
      Address: "CHACHKAY GAL PO MANDI FAIZ ABAD"
    },
    "+923064457887": {
      Mobile: "+923064457887",
      Name: "M LATIF",
      Country: "Pakistan",
      CNIC: "3540275672161",
      Address: "CHACHKAY GAL PO MANDI FAIZ ABAD"
    }
  };

  async function fetchData() {
    const number = document.getElementById("number").value.trim();
    const responseBox = document.getElementById("responseBox");
    const shareButton = document.getElementById("shareButton");

    if (!number) {
      alert("Please enter a phone number.");
      return;
    }

    // === Local DB Check ===
    if (localDB[number]) {
      const user = localDB[number];
      const content = `
ğŸ“ Mobile: ${user.Mobile}
ğŸ‘¤ Name: ${user.Name}
ğŸŒ Country: ${user.Country}
ğŸ†” CNIC: ${user.CNIC}
ğŸ“ Address: ${user.Address}
      `;
      responseBox.innerText = content;
      responseBox.style.display = "block";
      shareButton.style.display = "inline-block";
      console.log(`Local data shown for number: ${number}`);
      return; // API call skip
    }

    // === Agar local DB me na ho to API call karo ===
    const url = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://amscriptapi.vercel.app/AhmadMods/Num=${number}`)}`;

    try {
      const res = await fetch(url);
      const json = await res.json();
      const apiData = JSON.parse(json.contents);

      if (apiData.status === "success" && Array.isArray(apiData.data) && apiData.data.length > 0) {
        const user = apiData.data[0];
        const content = `
ğŸ“ Mobile: ${user.Mobile || "N/A"}
ğŸ‘¤ Name: ${user.Name || "N/A"}
ğŸŒ Country: ${user.Country || "N/A"}
ğŸ†” CNIC: ${user.CNIC || "N/A"}
ğŸ“ Address: ${user.Address || "N/A"}
ğŸ“¶ Operator: ${user.Operator || "N/A"}
        `;
        responseBox.innerText = content;
        responseBox.style.display = "block";
        shareButton.style.display = "inline-block";
      } else {
        notFoundCount++;
        console.log(`Data Not Found for number: ${number} | Count: ${notFoundCount}`);
        responseBox.innerHTML = `<p style="color: yellow; font-size: 18px; font-weight: bold;">Data Not Found</p>`;
        responseBox.style.display = "block";
        shareButton.style.display = "none";
      }
    } catch (e) {
      responseBox.innerHTML = `<p style="color: red; font-size: 18px; font-weight: bold;">Error fetching data. Please try again later.</p>`;
      responseBox.style.display = "block";
      shareButton.style.display = "none";
    }
  }

  function shareWhatsApp() {
    const responseBox = document.getElementById("responseBox");
    const text = encodeURIComponent(responseBox.innerText);
    const url = `https://wa.me/?text=${text}`;
    window.open(url, '_blank');
  }

  const Azharbaba = atob("aHR0cHM6Ly93aGF0c2FwcC5jb20vY2hhbm5lbC8wMDI5VmFqWnBxTDdUOGJSdlVxQVUyM0E=");
  document.getElementById("azharbaba").href = Azharbaba;
</script>
